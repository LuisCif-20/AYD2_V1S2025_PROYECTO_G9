<p-dialog
  [(visible)]="visible"
  [modal]="true"
  header="Nuevo Vendedor"
  [closable]="true"
  [style]="{ width: '700px' }"
  styleClass="custom-dialog"
>
  <ng-template pTemplate="content">
    <div class="p-fluid">
      <!-- Código -->
      <div class="mb-4" *ngIf="vendorCode">
        <label for="codigo" class="block font-bold mb-2"
          >Código de Vendedor</label
        >
        <input
          id="codigo"
          pInputText
          [disabled]="true"
          [(ngModel)]="vendedor.code"
          class="w-full text-purple-600 font-bold bg-purple-50"
        />
      </div>

      <!-- Grid de 2 columnas -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <!-- Nombres -->
        <div>
          <label for="nombres" class="block font-bold mb-2">Nombres *</label>
          <input
            id="nombres"
            pInputText
            placeholder="Ej: Juan Carlos"
            [(ngModel)]="vendedor.firstName"
            class="w-full"
          />
        </div>

        <!-- Apellidos -->
        <div>
          <label for="apellidos" class="block font-bold mb-2"
            >Apellidos *</label
          >
          <input
            id="apellidos"
            pInputText
            placeholder="Ej: García López"
            [(ngModel)]="vendedor.lastName"
            class="w-full"
          />
        </div>

        <!-- Teléfono -->
        <div>
          <label for="telefono" class="block font-bold mb-2">Teléfono (opcional)</label>
           <i class="pi pi-phone mr-1"></i>
          <p-inputMask
            id="telefono"
            mask="9999-9999"
            placeholder="0000-0000"
            [(ngModel)]="vendedor.phone"
            class="w-full"
          ></p-inputMask>
        </div>

        <!-- Comisión -->
        <div>
          <label for="comision" class="block font-bold mb-2"
            >Porcentaje de Comisión *</label
          >
          <p-inputNumber
            id="comision"
            mode="decimal"
            [min]="0"
            [max]="100"
            [step]="0.01"
            suffix="%"
            [(ngModel)]="vendedor.commissionPercent"
            class="w-full"
          ></p-inputNumber>
          <small class="text-gray-500 mt-1 block"
            >% Porcentaje de comisión sobre ventas</small
          >
        </div>
      </div>

      <!-- Dirección -->
      <div class="mb-4">
        <label for="direccion" class="block font-bold mb-2">Dirección (opcional)</label>
        <textarea
          id="direccion"
          pInputTextarea
          rows="3"
          placeholder="Dirección completa del vendedor..."
          [(ngModel)]="vendedor.address"
          class="w-full"
        ></textarea>
      </div>
    </div>
  </ng-template>

  <!-- Footer con botones -->
  <ng-template pTemplate="footer">
    <div class="flex justify-end gap-2">
      <p-button
        label="Cancelar"
        icon="pi pi-times"
        severity="secondary"
        (onClick)="hideDialog()"
      />
      <p-button
        label="Guardar Vendedor"
        icon="pi pi-save"
        (onClick)="guardar()"
      />
    </div>
  </ng-template>
</p-dialog>

<p-toast></p-toast>
